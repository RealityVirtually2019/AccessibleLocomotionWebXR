{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/components.js","src/js/index.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/* global AFRAME, THREE */\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('binary-controls', {\n    schema: {\n        emitter:{type: 'string', default: 'triggerA'},\n        selecter:{type: 'string', default: 'triggerB'},\n        switcher:{type: 'string', default: 'triggerC'},\n        locomotion: {type: 'boolean', default: true},\n        interaction: {type: 'boolean', default: true},\n        locofirst: {type: 'boolean', default:true}\n    },\n    init: function() {\n        var data = this.data;\n        var el = this.el;\n        this.cameraEl = document.querySelector('a-entity[camera]');\n\n        if(this.cameraEl){\n\n            // interaction mode\n            if(data.interaction){\n                var interactionAxes = document.createElement(\"a-entity\");\n                interactionAxes.setAttribute('geometry', `primitive:cylinder; height:0.005; radius:1.02;openEnded:true;`);\n                interactionAxes.setAttribute('material', `shader: flat; opacity:0.5; color:white; side:back`);\n                interactionAxes.setAttribute('rotation', '0 0 0');\n                interactionAxes.setAttribute('id', 'twist');\n                this.cameraEl.appendChild(interactionAxes);\n                this.interactionAxes = interactionAxes;\n\n                var interactionSwing = document.createElement(\"a-entity\");\n                interactionSwing.setAttribute('rotation', '0 0 0');\n                interactionSwing.setAttribute('id', 'swing');\n                interactionAxes.appendChild(interactionSwing);\n                this.interactionSwing = interactionSwing;\n\n                var interactionCursor = document.createElement(\"a-entity\");\n                interactionCursor.setAttribute('cursor', '');\n                interactionCursor.setAttribute('raycaster', 'far: 20; interval: 1000; objects:.clickable');\n                interactionCursor.setAttribute('geometry', 'primitive: ring; radiusInner: 0.02; radiusOuter: 0.03');\n                interactionCursor.setAttribute('position', '0 0 -1.05');\n                interactionCursor.setAttribute('material', 'color: black; shader: flat');\n                interactionSwing.appendChild(interactionCursor);\n            }\n            // locomotion mode\n            if(data.locomotion){\n                var locomotionNav = document.createElement(\"a-entity\");\n                locomotionNav.setAttribute('position', '0 -0.25 -0.65');\n                locomotionNav.setAttribute('rotation', '-30 0 0');\n                this.cameraEl.appendChild(locomotionNav);\n                this.locomotionNav = locomotionNav;\n\n                var fwd = document.createElement(\"a-entity\");\n                fwd.setAttribute('infocus', 'true');\n                fwd.setAttribute('position', '0 0.1 0');\n                fwd.setAttribute('rotation', '0 0 0');\n                fwd.setAttribute('scale', '0.3 0.3 0.3');\n                fwd.setAttribute('locobtn', 'clickAction:fwdDashButtonAction');\n                locomotionNav.appendChild(fwd);\n                var rt = document.createElement(\"a-entity\");\n                rt.setAttribute('infocus', 'true');\n                rt.setAttribute('position', '0.1 0 0');\n                rt.setAttribute('rotation', '0 0 -90');\n                rt.setAttribute('scale', '0.3 0.3 0.3');\n                rt.setAttribute('locobtn', 'clickAction:rightTurnButtonAction');\n                locomotionNav.appendChild(rt);\n                var bwd = document.createElement(\"a-entity\");\n                bwd.setAttribute('infocus', 'true');\n                bwd.setAttribute('position', '0 -0.1 0');\n                bwd.setAttribute('rotation', '0 0 180');\n                bwd.setAttribute('scale', '0.3 0.3 0.3');\n                bwd.setAttribute('locobtn', 'clickAction:backDashButtonAction');\n                locomotionNav.appendChild(bwd);\n                var lt = document.createElement(\"a-entity\");\n                lt.setAttribute('infocus', 'true');\n                lt.setAttribute('position', '-0.1 0 0');\n                lt.setAttribute('rotation', '0 0 90');\n                lt.setAttribute('scale', '0.3 0.3 0.3');\n                lt.setAttribute('locobtn', 'clickAction:leftTurnButtonAction');\n                locomotionNav.appendChild(lt);\n            }\n\n            if(data.locofirst){\n                if(data.interaction){\n                    this.interactionAxes.setAttribute('visible', 'false');\n                }\n                if(data.locomotion){\n                    this.locomotionNav.setAttribute('visible', 'true');\n                }\n            }else{\n                if(data.interaction){\n                    this.interactionAxes.setAttribute('visible', 'true');\n                }\n                if(data.locomotion){\n                    this.locomotionNav.setAttribute('visible', 'false');\n                }\n            }\n\n        }else{\n            console.log(\"Please add a camera to your scene.\");\n        }\n\n        window.addEventListener(this.data.emitter, this.emitterHandler.bind(this));\n        window.addEventListener(this.data.selecter, this.selecterHandler.bind(this));\n        window.addEventListener(this.data.switcher, this.switcherHandler.bind(this));            \n        // document.getElementById('axes').object3D.el.setAttribute('animation__rotation', 'property: rotation; dur: 10000; easing: linear; loop: true; to: 0 0 360');\n        // document.getElementById('axes').object3D.el.removeAttribute('animation__rotation');\n\n        // animation__yoyo=\"property: rotation; dur: 10000; dir: alternate; easing: linear; loop: true; from: 0 0 0; to: 0 50 0;\"\n    }, \n    emitterHandler: function(evt) {\n        //document.querySelector('a-scene').emit('click');\n    }, \n    selecterHandler: function(evt) {\n\n    }, \n    switcherHandler: function(evt) {\n        // document.querySelector('[binary-controls]').setAttribute('binary-controls','locofirst','false')\n    },\n    update: function() {\n        if(this.data.locofirst){\n            if(this.data.interaction){\n                this.interactionAxes.setAttribute('visible', 'false');\n            }\n            if(this.data.locomotion){\n                this.locomotionNav.setAttribute('visible', 'true');\n            }\n        }else{\n            if(this.data.interaction){\n                this.interactionAxes.setAttribute('visible', 'true');\n            }\n            if(this.data.locomotion){\n                this.locomotionNav.setAttribute('visible', 'false');\n            }\n        }        \n    }\n});\n\n// Loco button component\nAFRAME.registerComponent('locobtn', {\n    multiple: true,\n    schema: {\n        on: {default: 'click'},\n        clickAction: {type: 'string'},\n        radius: {type: 'number', default:0.16},\n    },\n    init: function() {\n        var data = this.data;\n        var el = this.el;\n\n        var bEntity = document.createElement(\"a-entity\");\n        bEntity.setAttribute('geometry', `primitive: circle; radius:${data.radius - 0.01};`);\n        bEntity.setAttribute('material', `shader: flat; color:#000;opacity:0.5;`);\n        bEntity.setAttribute('position', '0 0 0');\n        el.appendChild(bEntity);\n\n        var icon = document.createElement(\"a-entity\");\n        icon.setAttribute('geometry', `primitive:triangle;vertexA:0.07 0 0;vertexB:0 0.12 0;vertexC:-0.07 0 0`);\n        icon.setAttribute('material', `shader: flat; transparent: true; opacity: 1; color:#fff;`);\n        icon.setAttribute('position', ' 0 -0.035 0.001');\n        icon.setAttribute('visible', 'true');\n        bEntity.appendChild(icon);\n        this.icon = icon;\n\n        el.addEventListener(data.on, function() {\n            var clickActionFunctionName = data.clickAction;\n            console.log(\"in button, clickActionFunctionName: \"+clickActionFunctionName);\n            var clickActionFunction = window[clickActionFunctionName];\n            if (typeof clickActionFunction === \"function\") clickActionFunction();\n        });\n    }\n});\n\n\n// Component to change to a sequential color on click.\nAFRAME.registerComponent('infocus', {\n    schema: { \n        type:'boolean', \n        default:false\n    },\n    init: function () {\n        var data = this.data;\n        var el = this.el;\n        var rEntity = document.createElement(\"a-entity\");\n        rEntity.setAttribute('geometry', `primitive:ring; radiusInner:0.16; radiusOuter:0.17`);\n        rEntity.setAttribute('material', `shader: flat; opacity:0; color:#f00;`);\n        rEntity.setAttribute('position', '0 0 0');\n        el.appendChild(rEntity);\n        this.rEntity = rEntity;\n    },\n    update: function () {\n        if(this.data){\n            this.rEntity.setAttribute('material', `shader: flat; opacity:1; color:#f00;`);\n        }else{\n            this.rEntity.setAttribute('material', `shader: flat; opacity:0; color:#f00;`);\n        }\n    }\n});\n\nAFRAME.registerComponent('dash-controls', {\n    schema: {\n\n    },\n    init: function () {\n        this.dVelocity = new THREE.Vector3();\n        this.direction = 0;\n\n        window.addEventListener('dashfwd', this.onDashFwd.bind(this), false);\n        window.addEventListener('dashbwd', this.onDashBwd.bind(this), false);\n    },\n    isVelocityActive: function () {\n        return true;\n    },\n    getVelocityDelta: function () {\n        this.dVelocity.z = this.direction;\n        return this.dVelocity.clone();        \n    },\n    onDashFwd: function (event) {\n        this.direction = -0.125;\n        setTimeout(this.stopDash.bind(this), 500);\n    },\n    onDashBwd: function (event) {\n        this.direction = 0.125;\n        setTimeout(this.stopDash.bind(this), 500);\n    },\n    stopDash: function(){\n        this.direction = 0;\n    }\n\n});\n\n\nAFRAME.registerComponent('lookatlabel', {\n  init: function () {\n    this.vector = new THREE.Vector3();\n  },\n\n  tick: function (t) {\n    var self = this;\n    var target = self.el.sceneEl.camera;\n    var object3D = self.el.object3D;\n\n    // make sure camera is set\n    if (target) { \n         target.updateMatrixWorld();\n         this.vector.setFromMatrixPosition(target.matrixWorld);\n         if (object3D.parent) {\n           object3D.parent.updateMatrixWorld();\n           object3D.parent.worldToLocal(this.vector);\n         }\n         return object3D.lookAt(new THREE.Vector3(this.vector.x, object3D.position.y, this.vector.z));\n    }\n  }\n});\n\nAFRAME.registerComponent('label-furniture', {\n    schema: { \n        type:'string', \n        default:'name'\n    },\n    init: function () {\n    var el = this.el;\n    el.setAttribute('material', `shader: flat; opacity:0; color:blue;`);\n    var label = document.createElement(\"a-entity\");\n    label.setAttribute('geometry', 'primitive:plane; width:0.8; height:0.4;');\n    label.setAttribute('text', `value:${this.data}; align:center; font:https://cdn.aframe.io/fonts/Aileron-Semibold.fnt; color:#fbfbfb;width:0.65;wrapCount:15;`);\n    label.setAttribute('material', `color:#111; opacity:1;`);\n    label.setAttribute('position', '0 0.8 0');\n    label.setAttribute('scale', '0.0001 0.0001 0.0001');\n    label.setAttribute('lookatlabel','');\n    el.appendChild(label);\n    this.label = label;\n    el.addEventListener('mouseenter', function () {\n      el.setAttribute('material', 'opacity', '0.2');\n      label.setAttribute('scale', '1 1 1');\n    });\n    el.addEventListener('mouseleave', function () {\n      el.setAttribute('material', 'opacity', '0');\n      label.setAttribute('scale', '0.0001 0.0001 0.0001');\n    });  \n    el.addEventListener('click', function () {\n        console.log('clicked');\n    });      \n  }\n});\n","// eslint-disable-next-line no-unused-vars\r\n/* global AFRAME, THREE */\r\nif (typeof AFRAME === 'undefined') {\r\n  throw new Error(\r\n    'Component attempted to register before AFRAME was available.'\r\n  );\r\n}\r\n\r\n\r\n// long click mechanics\r\nconst node = document.getElementById('trigger');\r\nconst contoller = document.getElementById('controller');\r\n\r\n// state\r\nlet longPress = false;\r\nlet veryLongPress = false;\r\n// limit\r\nconst longPressTime = 500;\r\nconst veryLongPressTime = 1500;\r\n// let longtarget = null;\r\nlet pressTimer = null;\r\nlet startTime = null;\r\n\r\nconst cancel = () => {\r\n  console.log('cancel');\r\n\r\n  // if timer exists\r\n  if (pressTimer !== null) {\r\n    clearTimeout(pressTimer);\r\n    pressTimer = null;\r\n\r\n    // final time\r\n    const elapsedTime = performance.now() - startTime;\r\n\r\n    // check very long click\r\n    if (elapsedTime >= veryLongPressTime) {\r\n      veryLongPress = true;\r\n      console.log('very long click = triggerC');\r\n      triggerC();\r\n    }\r\n    // check long click\r\n    else if (elapsedTime >= longPressTime) {\r\n      console.log('long click = triggerB');\r\n      triggerB();\r\n      longPress = true;\r\n    } else {\r\n      triggerA();\r\n    }\r\n  }\r\n};\r\n\r\nconst click = () => {\r\n  if (pressTimer !== null) {\r\n    cancel();\r\n  }\r\n\r\n  if (longPress || veryLongPress) {\r\n    return;\r\n  }\r\n\r\n  console.log('simple click = triggerA')\r\n  triggerA();\r\n\r\n};\r\n\r\nconst start = e => {\r\n  console.log(e);\r\n  if (e.type === 'click' && e.button !== 0) {\r\n    return;\r\n  }\r\n\r\n  // reset state\r\n  longPress = false;\r\n  veryLongPress = false;\r\n  startTime = performance.now();\r\n\r\n  // max timeout\r\n  pressTimer = setTimeout(cancel, veryLongPressTime);\r\n};\r\n\r\nnode.addEventListener('mousedown', start);\r\nnode.addEventListener('touchstart', start);\r\nnode.addEventListener('click', click);\r\nnode.addEventListener('mouseout', cancel);\r\nnode.addEventListener('touchend', cancel);\r\nnode.addEventListener('touchleave', cancel);\r\nnode.addEventListener('touchcancel', cancel);\r\n\r\ncontoller.addEventListener('touchstart', start);\r\ncontoller.addEventListener('touchend', cancel);\r\n\r\n//dom ready\r\n(function () {\r\n\r\n  var yRot = 0;\r\n  var rig = document.querySelector('[binary-controls]');\r\n  window.fwdDashButtonAction = function() {\r\n      console.log(\"forward dash\"); \r\n      var fwd = new Event('dashfwd');\r\n      window.dispatchEvent(fwd);\r\n  }\r\n  window.backDashButtonAction = function() {\r\n      console.log(\"back dash\"); \r\n      var bwd = new Event('dashbwd');\r\n      window.dispatchEvent(bwd);\r\n  }\r\n  window.leftTurnButtonAction = function() {\r\n      console.log(\"left turn\");\r\n      yRot += 22.5;\r\n      rig.setAttribute('rotation','0 '+ yRot +' 0')\r\n  }\r\n  window.rightTurnButtonAction = function() {\r\n      console.log(\"right turn\");\r\n      yRot -= 22.5;\r\n      rig.setAttribute('rotation','0 '+ yRot +' 0')\r\n  }\r\n\r\n\r\n\r\n  function switchNavBtn(){\r\n    var buttons = document.querySelectorAll('[locobtn]');\r\n    let iterator = 0;\r\n    for (let i = 0; i < buttons.length; i++) {\r\n      if(buttons[i].getAttribute('infocus') == 'true'|| buttons[i].getAttribute('infocus')){\r\n        console.log(i)\r\n        iterator = i + 1;\r\n      }\r\n    }\r\n    for (let i = 0; i < buttons.length; i++) {\r\n      buttons[i].setAttribute('infocus', false);\r\n    }\r\n    if (iterator >= buttons.length) {\r\n      iterator = 0;\r\n    }\r\n    buttons[iterator].setAttribute('infocus', true);\r\n  }\r\n    \r\n  function triggerNavBtn(){\r\n    var buttons = document.querySelectorAll('[locobtn]');\r\n    var event = new Event('click');\r\n    for (let i = 0; i < buttons.length; i++) {\r\n      if(buttons[i].getAttribute('infocus') == 'true'|| buttons[i].getAttribute('infocus')){\r\n        buttons[i].dispatchEvent(event);\r\n      }\r\n    }\r\n  }\r\n\r\n  var directions = ['freeze','twist', 'swing'];\r\n  var myIndex = 1;\r\n  var cursorDirection = directions[0];\r\n  var twistZRot = 0;\r\n\r\n  function switchCursorDirection() {\r\n    twistZRot = document.getElementById('twist').getAttribute('rotation').z;\r\n    console.log('twistZRot' + twistZRot);\r\n    cursorDirection = directions[myIndex];\r\n    switch(cursorDirection) {\r\n      case 'twist':\r\n        document.getElementById('twist').object3D.el.setAttribute('animation__rotation', 'property: rotation; dur: 10000; easing: linear; loop: true; from: 0 0 ' + twistZRot + '; to: 0 0 ' + (twistZRot + 360));\r\n        break;\r\n      case 'swing':\r\n        document.getElementById('twist').object3D.el.removeAttribute('animation__rotation');\r\n        document.getElementById('swing').object3D.el.setAttribute('animation__yoyo','property: rotation; dur: 5000; dir: alternate; easing: linear; loop: true; from: 0 30 0; to: 0 -30 0;');\r\n        break;\r\n      case 'freeze':\r\n        document.getElementById('swing').object3D.el.removeAttribute('animation__yoyo');\r\n        break;\r\n    }\r\n    myIndex = (myIndex+1)%(directions.length);\r\n\r\n\r\n  };  \r\n\r\n\r\n  function triggerCursor(){\r\n      var event = new Event('click');\r\n      window.dispatchEvent(event);\r\n  }\r\n\r\n  var menu = document.querySelector('[binary-controls]');\r\n\r\n  function toggleMenu(){\r\n    if( menu.getAttribute('binary-controls').locofirst ){\r\n      menu.setAttribute('binary-controls','locofirst','false');\r\n    }else{\r\n      menu.setAttribute('binary-controls','locofirst','true');        \r\n    }\r\n  }\r\n\r\n  window.triggerA = function(){\r\n    console.log('triggerB');\r\n    if(menu.getAttribute('binary-controls').locofirst){\r\n      triggerNavBtn();\r\n    }else{\r\n      triggerCursor();\r\n    }\r\n  }\r\n  window.triggerB = function(){\r\n    console.log('triggerB');\r\n    if(menu.getAttribute('binary-controls').locofirst){\r\n      switchNavBtn();\r\n    }else{\r\n      switchCursorDirection();\r\n    }\r\n  }\r\n  window.triggerC = function(){\r\n    toggleMenu();\r\n  }\r\n\r\n  //imitating triggers\r\n  document.onkeydown = function(e) {\r\n    switch (e.keyCode) {\r\n      case 76:  //triggerB (l)\r\n        triggerB();\r\n        break;\r\n      case 80: //triggerA (p)\r\n        console.log('triggerA');\r\n        triggerA();\r\n        break;\r\n      case 79: //triggerC (o)\r\n        console.log('triggerC');\r\n        triggerC();\r\n        break;\r\n    }\r\n  };\r\n\r\n\r\n})();\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29tcG9uZW50cy5qcyIsInNyYy9qcy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7QUFDQSxJQUFJLE9BQU8sTUFBUCxLQUFrQixXQUF0QixFQUFtQztBQUNqQyxRQUFNLElBQUksS0FBSixDQUFVLDhEQUFWLENBQU47QUFDRDs7QUFFRCxNQUFNLENBQUMsaUJBQVAsQ0FBeUIsaUJBQXpCLEVBQTRDO0FBQ3hDLEVBQUEsTUFBTSxFQUFFO0FBQ0osSUFBQSxPQUFPLEVBQUM7QUFBQyxNQUFBLElBQUksRUFBRSxRQUFQO0FBQWlCLE1BQUEsT0FBTyxFQUFFO0FBQTFCLEtBREo7QUFFSixJQUFBLFFBQVEsRUFBQztBQUFDLE1BQUEsSUFBSSxFQUFFLFFBQVA7QUFBaUIsTUFBQSxPQUFPLEVBQUU7QUFBMUIsS0FGTDtBQUdKLElBQUEsUUFBUSxFQUFDO0FBQUMsTUFBQSxJQUFJLEVBQUUsUUFBUDtBQUFpQixNQUFBLE9BQU8sRUFBRTtBQUExQixLQUhMO0FBSUosSUFBQSxVQUFVLEVBQUU7QUFBQyxNQUFBLElBQUksRUFBRSxTQUFQO0FBQWtCLE1BQUEsT0FBTyxFQUFFO0FBQTNCLEtBSlI7QUFLSixJQUFBLFdBQVcsRUFBRTtBQUFDLE1BQUEsSUFBSSxFQUFFLFNBQVA7QUFBa0IsTUFBQSxPQUFPLEVBQUU7QUFBM0IsS0FMVDtBQU1KLElBQUEsU0FBUyxFQUFFO0FBQUMsTUFBQSxJQUFJLEVBQUUsU0FBUDtBQUFrQixNQUFBLE9BQU8sRUFBQztBQUExQjtBQU5QLEdBRGdDO0FBU3hDLEVBQUEsSUFBSSxFQUFFLGdCQUFXO0FBQ2IsUUFBSSxJQUFJLEdBQUcsS0FBSyxJQUFoQjtBQUNBLFFBQUksRUFBRSxHQUFHLEtBQUssRUFBZDtBQUNBLFNBQUssUUFBTCxHQUFnQixRQUFRLENBQUMsYUFBVCxDQUF1QixrQkFBdkIsQ0FBaEI7O0FBRUEs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TUFBaEQ7QUFDRDtBQUNGOztBQUVELEVBQUEsTUFBTSxDQUFDLFFBQVAsR0FBa0IsWUFBVTtBQUMxQixJQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksVUFBWjs7QUFDQSxRQUFHLElBQUksQ0FBQyxZQUFMLENBQWtCLGlCQUFsQixFQUFxQyxTQUF4QyxFQUFrRDtBQUNoRCxNQUFBLGFBQWE7QUFDZCxLQUZELE1BRUs7QUFDSCxNQUFBLGFBQWE7QUFDZDtBQUNGLEdBUEQ7O0FBUUEsRUFBQSxNQUFNLENBQUMsUUFBUCxHQUFrQixZQUFVO0FBQzFCLElBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxVQUFaOztBQUNBLFFBQUcsSUFBSSxDQUFDLFlBQUwsQ0FBa0IsaUJBQWxCLEVBQXFDLFNBQXhDLEVBQWtEO0FBQ2hELE1BQUEsWUFBWTtBQUNiLEtBRkQsTUFFSztBQUNILE1BQUEscUJBQXFCO0FBQ3RCO0FBQ0YsR0FQRDs7QUFRQSxFQUFBLE1BQU0sQ0FBQyxRQUFQLEdBQWtCLFlBQVU7QUFDMUIsSUFBQSxVQUFVO0FBQ1gsR0FGRCxDQWpIVyxDQXFIWDs7O0FBQ0EsRUFBQSxRQUFRLENBQUMsU0FBVCxHQUFxQixVQUFTLENBQVQsRUFBWTtBQUMvQixZQUFRLENBQUMsQ0FBQyxPQUFWO0FBQ0UsV0FBSyxFQUFMO0FBQVU7QUFDUixRQUFBLFFBQVE7QUFDUjs7QUFDRixXQUFLLEVBQUw7QUFBUztBQUNQLFFBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxVQUFaO0FBQ0EsUUFBQSxRQUFRO0FBQ1I7O0FBQ0YsV0FBSyxFQUFMO0FBQVM7QUFDUCxRQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksVUFBWjtBQUNBLFFBQUEsUUFBUTtBQUNSO0FBWEo7QUFhRCxHQWREO0FBaUJELENBdklEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyogZ2xvYmFsIEFGUkFNRSwgVEhSRUUgKi9cbmlmICh0eXBlb2YgQUZSQU1FID09PSAndW5kZWZpbmVkJykge1xuICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBvbmVudCBhdHRlbXB0ZWQgdG8gcmVnaXN0ZXIgYmVmb3JlIEFGUkFNRSB3YXMgYXZhaWxhYmxlLicpO1xufVxuXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ2JpbmFyeS1jb250cm9scycsIHtcbiAgICBzY2hlbWE6IHtcbiAgICAgICAgZW1pdHRlcjp7dHlwZTogJ3N0cmluZycsIGRlZmF1bHQ6ICd0cmlnZ2VyQSd9LFxuICAgICAgICBzZWxlY3Rlcjp7dHlwZTogJ3N0cmluZycsIGRlZmF1bHQ6ICd0cmlnZ2VyQid9LFxuICAgICAgICBzd2l0Y2hlcjp7dHlwZTogJ3N0cmluZycsIGRlZmF1bHQ6ICd0cmlnZ2VyQyd9LFxuICAgICAgICBsb2NvbW90aW9uOiB7dHlwZTogJ2Jvb2xlYW4nLCBkZWZhdWx0OiB0cnVlfSxcbiAgICAgICAgaW50ZXJhY3Rpb246IHt0eXBlOiAnYm9vbGVhbicsIGRlZmF1bHQ6IHRydWV9LFxuICAgICAgICBsb2NvZmlyc3Q6IHt0eXBlOiAnYm9vbGVhbicsIGRlZmF1bHQ6dHJ1ZX1cbiAgICB9LFxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICAgICAgdGhpcy5jYW1lcmFFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2EtZW50aXR5W2NhbWVyYV0nKTtcblxuICAgICAgICBpZih0aGlzLmNhbWVyYUVsKXtcblxuICAgICAgICAgICAgLy8gaW50ZXJhY3Rpb24gbW9kZVxuICAgICAgICAgICAgaWYoZGF0YS5pbnRlcmFjdGlvbil7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uQXhlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhLWVudGl0eVwiKTtcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkF4ZXMuc2V0QXR0cmlidXRlKCdnZW9tZXRyeScsIGBwcmltaXRpdmU6Y3lsaW5kZXI7IGhlaWdodDowLjAwNTsgcmFkaXVzOjEuMDI7b3BlbkVuZGVkOnRydWU7YCk7XG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25BeGVzLnNldEF0dHJpYnV0ZSgnbWF0ZXJpYWwnLCBgc2hhZGVyOiBmbGF0OyBvcGFjaXR5OjAuNTsgY29sb3I6d2hpdGU7IHNpZGU6YmFja2ApO1xuICAgICAgICAgICAgICAgIGludGVyYWN0aW9uQXhlcy5zZXRBdHRyaWJ1dGUoJ3JvdGF0aW9uJywgJzAgMCAwJyk7XG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25BeGVzLnNldEF0dHJpYnV0ZSgnaWQnLCAndHdpc3QnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYUVsLmFwcGVuZENoaWxkKGludGVyYWN0aW9uQXhlcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkF4ZXMgPSBpbnRlcmFjdGlvbkF4ZXM7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25Td2luZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhLWVudGl0eVwiKTtcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvblN3aW5nLnNldEF0dHJpYnV0ZSgncm90YXRpb24nLCAnMCAwIDAnKTtcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvblN3aW5nLnNldEF0dHJpYnV0ZSgnaWQnLCAnc3dpbmcnKTtcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkF4ZXMuYXBwZW5kQ2hpbGQoaW50ZXJhY3Rpb25Td2luZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvblN3aW5nID0gaW50ZXJhY3Rpb25Td2luZztcblxuICAgICAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkN1cnNvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhLWVudGl0eVwiKTtcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkN1cnNvci5zZXRBdHRyaWJ1dGUoJ2N1cnNvcicsICcnKTtcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkN1cnNvci5zZXRBdHRyaWJ1dGUoJ3JheWNhc3RlcicsICdmYXI6IDIwOyBpbnRlcnZhbDogMTAwMDsgb2JqZWN0czouY2xpY2thYmxlJyk7XG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25DdXJzb3Iuc2V0QXR0cmlidXRlKCdnZW9tZXRyeScsICdwcmltaXRpdmU6IHJpbmc7IHJhZGl1c0lubmVyOiAwLjAyOyByYWRpdXNPdXRlcjogMC4wMycpO1xuICAgICAgICAgICAgICAgIGludGVyYWN0aW9uQ3Vyc29yLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCAnMCAwIC0xLjA1Jyk7XG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25DdXJzb3Iuc2V0QXR0cmlidXRlKCdtYXRlcmlhbCcsICdjb2xvcjogYmxhY2s7IHNoYWRlcjogZmxhdCcpO1xuICAgICAgICAgICAgICAgIGludGVyYWN0aW9uU3dpbmcuYXBwZW5kQ2hpbGQoaW50ZXJhY3Rpb25DdXJzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbG9jb21vdGlvbiBtb2RlXG4gICAgICAgICAgICBpZihkYXRhLmxvY29tb3Rpb24pe1xuICAgICAgICAgICAgICAgIHZhciBsb2NvbW90aW9uTmF2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImEtZW50aXR5XCIpO1xuICAgICAgICAgICAgICAgIGxvY29tb3Rpb25OYXYuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsICcwIC0wLjI1IC0wLjY1Jyk7XG4gICAgICAgICAgICAgICAgbG9jb21vdGlvbk5hdi5zZXRBdHRyaWJ1dGUoJ3JvdGF0aW9uJywgJy0zMCAwIDAnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYUVsLmFwcGVuZENoaWxkKGxvY29tb3Rpb25OYXYpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9jb21vdGlvbk5hdiA9IGxvY29tb3Rpb25OYXY7XG5cbiAgICAgICAgICAgICAgICB2YXIgZndkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImEtZW50aXR5XCIpO1xuICAgICAgICAgICAgICAgIGZ3ZC5zZXRBdHRyaWJ1dGUoJ2luZm9jdXMnLCAndHJ1ZScpO1xuICAgICAgICAgICAgICAgIGZ3ZC5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgJzAgMC4xIDAnKTtcbiAgICAgICAgICAgICAgICBmd2Quc2V0QXR0cmlidXRlKCdyb3RhdGlvbicsICcwIDAgMCcpO1xuICAgICAgICAgICAgICAgIGZ3ZC5zZXRBdHRyaWJ1dGUoJ3NjYWxlJywgJzAuMyAwLjMgMC4zJyk7XG4gICAgICAgICAgICAgICAgZndkLnNldEF0dHJpYnV0ZSgnbG9jb2J0bicsICdjbGlja0FjdGlvbjpmd2REYXNoQnV0dG9uQWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgbG9jb21vdGlvbk5hdi5hcHBlbmRDaGlsZChmd2QpO1xuICAgICAgICAgICAgICAgIHZhciBydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhLWVudGl0eVwiKTtcbiAgICAgICAgICAgICAgICBydC5zZXRBdHRyaWJ1dGUoJ2luZm9jdXMnLCAndHJ1ZScpO1xuICAgICAgICAgICAgICAgIHJ0LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCAnMC4xIDAgMCcpO1xuICAgICAgICAgICAgICAgIHJ0LnNldEF0dHJpYnV0ZSgncm90YXRpb24nLCAnMCAwIC05MCcpO1xuICAgICAgICAgICAgICAgIHJ0LnNldEF0dHJpYnV0ZSgnc2NhbGUnLCAnMC4zIDAuMyAwLjMnKTtcbiAgICAgICAgICAgICAgICBydC5zZXRBdHRyaWJ1dGUoJ2xvY29idG4nLCAnY2xpY2tBY3Rpb246cmlnaHRUdXJuQnV0dG9uQWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgbG9jb21vdGlvbk5hdi5hcHBlbmRDaGlsZChydCk7XG4gICAgICAgICAgICAgICAgdmFyIGJ3ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhLWVudGl0eVwiKTtcbiAgICAgICAgICAgICAgICBid2Quc2V0QXR0cmlidXRlKCdpbmZvY3VzJywgJ3RydWUnKTtcbiAgICAgICAgICAgICAgICBid2Quc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsICcwIC0wLjEgMCcpO1xuICAgICAgICAgICAgICAgIGJ3ZC5zZXRBdHRyaWJ1dGUoJ3JvdGF0aW9uJywgJzAgMCAxODAnKTtcbiAgICAgICAgICAgICAgICBid2Quc2V0QXR0cmlidXRlKCdzY2FsZScsICcwLjMgMC4zIDAuMycpO1xuICAgICAgICAgICAgICAgIGJ3ZC5zZXRBdHRyaWJ1dGUoJ2xvY29idG4nLCAnY2xpY2tBY3Rpb246YmFja0Rhc2hCdXR0b25BY3Rpb24nKTtcbiAgICAgICAgICAgICAgICBsb2NvbW90aW9uTmF2LmFwcGVuZENoaWxkKGJ3ZCk7XG4gICAgICAgICAgICAgICAgdmFyIGx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImEtZW50aXR5XCIpO1xuICAgICAgICAgICAgICAgIGx0LnNldEF0dHJpYnV0ZSgnaW5mb2N1cycsICd0cnVlJyk7XG4gICAgICAgICAgICAgICAgbHQuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsICctMC4xIDAgMCcpO1xuICAgICAgICAgICAgICAgIGx0LnNldEF0dHJpYnV0ZSgncm90YXRpb24nLCAnMCAwIDkwJyk7XG4gICAgICAgICAgICAgICAgbHQuc2V0QXR0cmlidXRlKCdzY2FsZScsICcwLjMgMC4zIDAuMycpO1xuICAgICAgICAgICAgICAgIGx0LnNldEF0dHJpYnV0ZSgnbG9jb2J0bicsICdjbGlja0FjdGlvbjpsZWZ0VHVybkJ1dHRvbkFjdGlvbicpO1xuICAgICAgICAgICAgICAgIGxvY29tb3Rpb25OYXYuYXBwZW5kQ2hpbGQobHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihkYXRhLmxvY29maXJzdCl7XG4gICAgICAgICAgICAgICAgaWYoZGF0YS5pbnRlcmFjdGlvbil7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25BeGVzLnNldEF0dHJpYnV0ZSgndmlzaWJsZScsICdmYWxzZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihkYXRhLmxvY29tb3Rpb24pe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY29tb3Rpb25OYXYuc2V0QXR0cmlidXRlKCd2aXNpYmxlJywgJ3RydWUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBpZihkYXRhLmludGVyYWN0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkF4ZXMuc2V0QXR0cmlidXRlKCd2aXNpYmxlJywgJ3RydWUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoZGF0YS5sb2NvbW90aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NvbW90aW9uTmF2LnNldEF0dHJpYnV0ZSgndmlzaWJsZScsICdmYWxzZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGxlYXNlIGFkZCBhIGNhbWVyYSB0byB5b3VyIHNjZW5lLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKHRoaXMuZGF0YS5lbWl0dGVyLCB0aGlzLmVtaXR0ZXJIYW5kbGVyLmJpbmQodGhpcykpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmRhdGEuc2VsZWN0ZXIsIHRoaXMuc2VsZWN0ZXJIYW5kbGVyLmJpbmQodGhpcykpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmRhdGEuc3dpdGNoZXIsIHRoaXMuc3dpdGNoZXJIYW5kbGVyLmJpbmQodGhpcykpOyAgICAgICAgICAgIFxuICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXhlcycpLm9iamVjdDNELmVsLnNldEF0dHJpYnV0ZSgnYW5pbWF0aW9uX19yb3RhdGlvbicsICdwcm9wZXJ0eTogcm90YXRpb247IGR1cjogMTAwMDA7IGVhc2luZzogbGluZWFyOyBsb29wOiB0cnVlOyB0bzogMCAwIDM2MCcpO1xuICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXhlcycpLm9iamVjdDNELmVsLnJlbW92ZUF0dHJpYnV0ZSgnYW5pbWF0aW9uX19yb3RhdGlvbicpO1xuXG4gICAgICAgIC8vIGFuaW1hdGlvbl9feW95bz1cInByb3BlcnR5OiByb3RhdGlvbjsgZHVyOiAxMDAwMDsgZGlyOiBhbHRlcm5hdGU7IGVhc2luZzogbGluZWFyOyBsb29wOiB0cnVlOyBmcm9tOiAwIDAgMDsgdG86IDAgNTAgMDtcIlxuICAgIH0sIFxuICAgIGVtaXR0ZXJIYW5kbGVyOiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgLy9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhLXNjZW5lJykuZW1pdCgnY2xpY2snKTtcbiAgICB9LCBcbiAgICBzZWxlY3RlckhhbmRsZXI6IGZ1bmN0aW9uKGV2dCkge1xuXG4gICAgfSwgXG4gICAgc3dpdGNoZXJIYW5kbGVyOiBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2JpbmFyeS1jb250cm9sc10nKS5zZXRBdHRyaWJ1dGUoJ2JpbmFyeS1jb250cm9scycsJ2xvY29maXJzdCcsJ2ZhbHNlJylcbiAgICB9LFxuICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHRoaXMuZGF0YS5sb2NvZmlyc3Qpe1xuICAgICAgICAgICAgaWYodGhpcy5kYXRhLmludGVyYWN0aW9uKXtcbiAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uQXhlcy5zZXRBdHRyaWJ1dGUoJ3Zpc2libGUnLCAnZmFsc2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMuZGF0YS5sb2NvbW90aW9uKXtcbiAgICAgICAgICAgICAgICB0aGlzLmxvY29tb3Rpb25OYXYuc2V0QXR0cmlidXRlKCd2aXNpYmxlJywgJ3RydWUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBpZih0aGlzLmRhdGEuaW50ZXJhY3Rpb24pe1xuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25BeGVzLnNldEF0dHJpYnV0ZSgndmlzaWJsZScsICd0cnVlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih0aGlzLmRhdGEubG9jb21vdGlvbil7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2NvbW90aW9uTmF2LnNldEF0dHJpYnV0ZSgndmlzaWJsZScsICdmYWxzZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ICAgICAgICBcbiAgICB9XG59KTtcblxuLy8gTG9jbyBidXR0b24gY29tcG9uZW50XG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ2xvY29idG4nLCB7XG4gICAgbXVsdGlwbGU6IHRydWUsXG4gICAgc2NoZW1hOiB7XG4gICAgICAgIG9uOiB7ZGVmYXVsdDogJ2NsaWNrJ30sXG4gICAgICAgIGNsaWNrQWN0aW9uOiB7dHlwZTogJ3N0cmluZyd9LFxuICAgICAgICByYWRpdXM6IHt0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDowLjE2fSxcbiAgICB9LFxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgdmFyIGVsID0gdGhpcy5lbDtcblxuICAgICAgICB2YXIgYkVudGl0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhLWVudGl0eVwiKTtcbiAgICAgICAgYkVudGl0eS5zZXRBdHRyaWJ1dGUoJ2dlb21ldHJ5JywgYHByaW1pdGl2ZTogY2lyY2xlOyByYWRpdXM6JHtkYXRhLnJhZGl1cyAtIDAuMDF9O2ApO1xuICAgICAgICBiRW50aXR5LnNldEF0dHJpYnV0ZSgnbWF0ZXJpYWwnLCBgc2hhZGVyOiBmbGF0OyBjb2xvcjojMDAwO29wYWNpdHk6MC41O2ApO1xuICAgICAgICBiRW50aXR5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCAnMCAwIDAnKTtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoYkVudGl0eSk7XG5cbiAgICAgICAgdmFyIGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYS1lbnRpdHlcIik7XG4gICAgICAgIGljb24uc2V0QXR0cmlidXRlKCdnZW9tZXRyeScsIGBwcmltaXRpdmU6dHJpYW5nbGU7dmVydGV4QTowLjA3IDAgMDt2ZXJ0ZXhCOjAgMC4xMiAwO3ZlcnRleEM6LTAuMDcgMCAwYCk7XG4gICAgICAgIGljb24uc2V0QXR0cmlidXRlKCdtYXRlcmlhbCcsIGBzaGFkZXI6IGZsYXQ7IHRyYW5zcGFyZW50OiB0cnVlOyBvcGFjaXR5OiAxOyBjb2xvcjojZmZmO2ApO1xuICAgICAgICBpY29uLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCAnIDAgLTAuMDM1IDAuMDAxJyk7XG4gICAgICAgIGljb24uc2V0QXR0cmlidXRlKCd2aXNpYmxlJywgJ3RydWUnKTtcbiAgICAgICAgYkVudGl0eS5hcHBlbmRDaGlsZChpY29uKTtcbiAgICAgICAgdGhpcy5pY29uID0gaWNvbjtcblxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGRhdGEub24sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNsaWNrQWN0aW9uRnVuY3Rpb25OYW1lID0gZGF0YS5jbGlja0FjdGlvbjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaW4gYnV0dG9uLCBjbGlja0FjdGlvbkZ1bmN0aW9uTmFtZTogXCIrY2xpY2tBY3Rpb25GdW5jdGlvbk5hbWUpO1xuICAgICAgICAgICAgdmFyIGNsaWNrQWN0aW9uRnVuY3Rpb24gPSB3aW5kb3dbY2xpY2tBY3Rpb25GdW5jdGlvbk5hbWVdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjbGlja0FjdGlvbkZ1bmN0aW9uID09PSBcImZ1bmN0aW9uXCIpIGNsaWNrQWN0aW9uRnVuY3Rpb24oKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cblxuLy8gQ29tcG9uZW50IHRvIGNoYW5nZSB0byBhIHNlcXVlbnRpYWwgY29sb3Igb24gY2xpY2suXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ2luZm9jdXMnLCB7XG4gICAgc2NoZW1hOiB7IFxuICAgICAgICB0eXBlOidib29sZWFuJywgXG4gICAgICAgIGRlZmF1bHQ6ZmFsc2VcbiAgICB9LFxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgICAgIHZhciByRW50aXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImEtZW50aXR5XCIpO1xuICAgICAgICByRW50aXR5LnNldEF0dHJpYnV0ZSgnZ2VvbWV0cnknLCBgcHJpbWl0aXZlOnJpbmc7IHJhZGl1c0lubmVyOjAuMTY7IHJhZGl1c091dGVyOjAuMTdgKTtcbiAgICAgICAgckVudGl0eS5zZXRBdHRyaWJ1dGUoJ21hdGVyaWFsJywgYHNoYWRlcjogZmxhdDsgb3BhY2l0eTowOyBjb2xvcjojZjAwO2ApO1xuICAgICAgICByRW50aXR5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCAnMCAwIDAnKTtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQockVudGl0eSk7XG4gICAgICAgIHRoaXMuckVudGl0eSA9IHJFbnRpdHk7XG4gICAgfSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYodGhpcy5kYXRhKXtcbiAgICAgICAgICAgIHRoaXMuckVudGl0eS5zZXRBdHRyaWJ1dGUoJ21hdGVyaWFsJywgYHNoYWRlcjogZmxhdDsgb3BhY2l0eToxOyBjb2xvcjojZjAwO2ApO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuckVudGl0eS5zZXRBdHRyaWJ1dGUoJ21hdGVyaWFsJywgYHNoYWRlcjogZmxhdDsgb3BhY2l0eTowOyBjb2xvcjojZjAwO2ApO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnZGFzaC1jb250cm9scycsIHtcbiAgICBzY2hlbWE6IHtcblxuICAgIH0sXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRWZWxvY2l0eSA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gMDtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZGFzaGZ3ZCcsIHRoaXMub25EYXNoRndkLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2Rhc2hid2QnLCB0aGlzLm9uRGFzaEJ3ZC5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgfSxcbiAgICBpc1ZlbG9jaXR5QWN0aXZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgZ2V0VmVsb2NpdHlEZWx0YTogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRWZWxvY2l0eS56ID0gdGhpcy5kaXJlY3Rpb247XG4gICAgICAgIHJldHVybiB0aGlzLmRWZWxvY2l0eS5jbG9uZSgpOyAgICAgICAgXG4gICAgfSxcbiAgICBvbkRhc2hGd2Q6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IC0wLjEyNTtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLnN0b3BEYXNoLmJpbmQodGhpcyksIDUwMCk7XG4gICAgfSxcbiAgICBvbkRhc2hCd2Q6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IDAuMTI1O1xuICAgICAgICBzZXRUaW1lb3V0KHRoaXMuc3RvcERhc2guYmluZCh0aGlzKSwgNTAwKTtcbiAgICB9LFxuICAgIHN0b3BEYXNoOiBmdW5jdGlvbigpe1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IDA7XG4gICAgfVxuXG59KTtcblxuXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ2xvb2thdGxhYmVsJywge1xuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy52ZWN0b3IgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICB9LFxuXG4gIHRpY2s6IGZ1bmN0aW9uICh0KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciB0YXJnZXQgPSBzZWxmLmVsLnNjZW5lRWwuY2FtZXJhO1xuICAgIHZhciBvYmplY3QzRCA9IHNlbGYuZWwub2JqZWN0M0Q7XG5cbiAgICAvLyBtYWtlIHN1cmUgY2FtZXJhIGlzIHNldFxuICAgIGlmICh0YXJnZXQpIHsgXG4gICAgICAgICB0YXJnZXQudXBkYXRlTWF0cml4V29ybGQoKTtcbiAgICAgICAgIHRoaXMudmVjdG9yLnNldEZyb21NYXRyaXhQb3NpdGlvbih0YXJnZXQubWF0cml4V29ybGQpO1xuICAgICAgICAgaWYgKG9iamVjdDNELnBhcmVudCkge1xuICAgICAgICAgICBvYmplY3QzRC5wYXJlbnQudXBkYXRlTWF0cml4V29ybGQoKTtcbiAgICAgICAgICAgb2JqZWN0M0QucGFyZW50LndvcmxkVG9Mb2NhbCh0aGlzLnZlY3Rvcik7XG4gICAgICAgICB9XG4gICAgICAgICByZXR1cm4gb2JqZWN0M0QubG9va0F0KG5ldyBUSFJFRS5WZWN0b3IzKHRoaXMudmVjdG9yLngsIG9iamVjdDNELnBvc2l0aW9uLnksIHRoaXMudmVjdG9yLnopKTtcbiAgICB9XG4gIH1cbn0pO1xuXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ2xhYmVsLWZ1cm5pdHVyZScsIHtcbiAgICBzY2hlbWE6IHsgXG4gICAgICAgIHR5cGU6J3N0cmluZycsIFxuICAgICAgICBkZWZhdWx0OiduYW1lJ1xuICAgIH0sXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdtYXRlcmlhbCcsIGBzaGFkZXI6IGZsYXQ7IG9wYWNpdHk6MDsgY29sb3I6Ymx1ZTtgKTtcbiAgICB2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYS1lbnRpdHlcIik7XG4gICAgbGFiZWwuc2V0QXR0cmlidXRlKCdnZW9tZXRyeScsICdwcmltaXRpdmU6cGxhbmU7IHdpZHRoOjAuODsgaGVpZ2h0OjAuNDsnKTtcbiAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ3RleHQnLCBgdmFsdWU6JHt0aGlzLmRhdGF9OyBhbGlnbjpjZW50ZXI7IGZvbnQ6aHR0cHM6Ly9jZG4uYWZyYW1lLmlvL2ZvbnRzL0FpbGVyb24tU2VtaWJvbGQuZm50OyBjb2xvcjojZmJmYmZiO3dpZHRoOjAuNjU7d3JhcENvdW50OjE1O2ApO1xuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnbWF0ZXJpYWwnLCBgY29sb3I6IzExMTsgb3BhY2l0eToxO2ApO1xuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCAnMCAwLjggMCcpO1xuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnc2NhbGUnLCAnMC4wMDAxIDAuMDAwMSAwLjAwMDEnKTtcbiAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2xvb2thdGxhYmVsJywnJyk7XG4gICAgZWwuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdtYXRlcmlhbCcsICdvcGFjaXR5JywgJzAuMicpO1xuICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKCdzY2FsZScsICcxIDEgMScpO1xuICAgIH0pO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ21hdGVyaWFsJywgJ29wYWNpdHknLCAnMCcpO1xuICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKCdzY2FsZScsICcwLjAwMDEgMC4wMDAxIDAuMDAwMScpO1xuICAgIH0pOyAgXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjbGlja2VkJyk7XG4gICAgfSk7ICAgICAgXG4gIH1cbn0pO1xuIiwiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qIGdsb2JhbCBBRlJBTUUsIFRIUkVFICovXHJcbmlmICh0eXBlb2YgQUZSQU1FID09PSAndW5kZWZpbmVkJykge1xyXG4gIHRocm93IG5ldyBFcnJvcihcclxuICAgICdDb21wb25lbnQgYXR0ZW1wdGVkIHRvIHJlZ2lzdGVyIGJlZm9yZSBBRlJBTUUgd2FzIGF2YWlsYWJsZS4nXHJcbiAgKTtcclxufVxyXG5cclxuXHJcbi8vIGxvbmcgY2xpY2sgbWVjaGFuaWNzXHJcbmNvbnN0IG5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJpZ2dlcicpO1xyXG5jb25zdCBjb250b2xsZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udHJvbGxlcicpO1xyXG5cclxuLy8gc3RhdGVcclxubGV0IGxvbmdQcmVzcyA9IGZhbHNlO1xyXG5sZXQgdmVyeUxvbmdQcmVzcyA9IGZhbHNlO1xyXG4vLyBsaW1pdFxyXG5jb25zdCBsb25nUHJlc3NUaW1lID0gNTAwO1xyXG5jb25zdCB2ZXJ5TG9uZ1ByZXNzVGltZSA9IDE1MDA7XHJcbi8vIGxldCBsb25ndGFyZ2V0ID0gbnVsbDtcclxubGV0IHByZXNzVGltZXIgPSBudWxsO1xyXG5sZXQgc3RhcnRUaW1lID0gbnVsbDtcclxuXHJcbmNvbnN0IGNhbmNlbCA9ICgpID0+IHtcclxuICBjb25zb2xlLmxvZygnY2FuY2VsJyk7XHJcblxyXG4gIC8vIGlmIHRpbWVyIGV4aXN0c1xyXG4gIGlmIChwcmVzc1RpbWVyICE9PSBudWxsKSB7XHJcbiAgICBjbGVhclRpbWVvdXQocHJlc3NUaW1lcik7XHJcbiAgICBwcmVzc1RpbWVyID0gbnVsbDtcclxuXHJcbiAgICAvLyBmaW5hbCB0aW1lXHJcbiAgICBjb25zdCBlbGFwc2VkVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lO1xyXG5cclxuICAgIC8vIGNoZWNrIHZlcnkgbG9uZyBjbGlja1xyXG4gICAgaWYgKGVsYXBzZWRUaW1lID49IHZlcnlMb25nUHJlc3NUaW1lKSB7XHJcbiAgICAgIHZlcnlMb25nUHJlc3MgPSB0cnVlO1xyXG4gICAgICBjb25zb2xlLmxvZygndmVyeSBsb25nIGNsaWNrID0gdHJpZ2dlckMnKTtcclxuICAgICAgdHJpZ2dlckMoKTtcclxuICAgIH1cclxuICAgIC8vIGNoZWNrIGxvbmcgY2xpY2tcclxuICAgIGVsc2UgaWYgKGVsYXBzZWRUaW1lID49IGxvbmdQcmVzc1RpbWUpIHtcclxuICAgICAgY29uc29sZS5sb2coJ2xvbmcgY2xpY2sgPSB0cmlnZ2VyQicpO1xyXG4gICAgICB0cmlnZ2VyQigpO1xyXG4gICAgICBsb25nUHJlc3MgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdHJpZ2dlckEoKTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjbGljayA9ICgpID0+IHtcclxuICBpZiAocHJlc3NUaW1lciAhPT0gbnVsbCkge1xyXG4gICAgY2FuY2VsKCk7XHJcbiAgfVxyXG5cclxuICBpZiAobG9uZ1ByZXNzIHx8IHZlcnlMb25nUHJlc3MpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKCdzaW1wbGUgY2xpY2sgPSB0cmlnZ2VyQScpXHJcbiAgdHJpZ2dlckEoKTtcclxuXHJcbn07XHJcblxyXG5jb25zdCBzdGFydCA9IGUgPT4ge1xyXG4gIGNvbnNvbGUubG9nKGUpO1xyXG4gIGlmIChlLnR5cGUgPT09ICdjbGljaycgJiYgZS5idXR0b24gIT09IDApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIHJlc2V0IHN0YXRlXHJcbiAgbG9uZ1ByZXNzID0gZmFsc2U7XHJcbiAgdmVyeUxvbmdQcmVzcyA9IGZhbHNlO1xyXG4gIHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG5cclxuICAvLyBtYXggdGltZW91dFxyXG4gIHByZXNzVGltZXIgPSBzZXRUaW1lb3V0KGNhbmNlbCwgdmVyeUxvbmdQcmVzc1RpbWUpO1xyXG59O1xyXG5cclxubm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdGFydCk7XHJcbm5vZGUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHN0YXJ0KTtcclxubm9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsaWNrKTtcclxubm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGNhbmNlbCk7XHJcbm5vZGUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBjYW5jZWwpO1xyXG5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobGVhdmUnLCBjYW5jZWwpO1xyXG5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgY2FuY2VsKTtcclxuXHJcbmNvbnRvbGxlci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc3RhcnQpO1xyXG5jb250b2xsZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBjYW5jZWwpO1xyXG5cclxuLy9kb20gcmVhZHlcclxuKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgdmFyIHlSb3QgPSAwO1xyXG4gIHZhciByaWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbYmluYXJ5LWNvbnRyb2xzXScpO1xyXG4gIHdpbmRvdy5md2REYXNoQnV0dG9uQWN0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiZm9yd2FyZCBkYXNoXCIpOyBcclxuICAgICAgdmFyIGZ3ZCA9IG5ldyBFdmVudCgnZGFzaGZ3ZCcpO1xyXG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChmd2QpO1xyXG4gIH1cclxuICB3aW5kb3cuYmFja0Rhc2hCdXR0b25BY3Rpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJiYWNrIGRhc2hcIik7IFxyXG4gICAgICB2YXIgYndkID0gbmV3IEV2ZW50KCdkYXNoYndkJyk7XHJcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGJ3ZCk7XHJcbiAgfVxyXG4gIHdpbmRvdy5sZWZ0VHVybkJ1dHRvbkFjdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImxlZnQgdHVyblwiKTtcclxuICAgICAgeVJvdCArPSAyMi41O1xyXG4gICAgICByaWcuc2V0QXR0cmlidXRlKCdyb3RhdGlvbicsJzAgJysgeVJvdCArJyAwJylcclxuICB9XHJcbiAgd2luZG93LnJpZ2h0VHVybkJ1dHRvbkFjdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInJpZ2h0IHR1cm5cIik7XHJcbiAgICAgIHlSb3QgLT0gMjIuNTtcclxuICAgICAgcmlnLnNldEF0dHJpYnV0ZSgncm90YXRpb24nLCcwICcrIHlSb3QgKycgMCcpXHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIGZ1bmN0aW9uIHN3aXRjaE5hdkJ0bigpe1xyXG4gICAgdmFyIGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbbG9jb2J0bl0nKTtcclxuICAgIGxldCBpdGVyYXRvciA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYoYnV0dG9uc1tpXS5nZXRBdHRyaWJ1dGUoJ2luZm9jdXMnKSA9PSAndHJ1ZSd8fCBidXR0b25zW2ldLmdldEF0dHJpYnV0ZSgnaW5mb2N1cycpKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhpKVxyXG4gICAgICAgIGl0ZXJhdG9yID0gaSArIDE7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnV0dG9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBidXR0b25zW2ldLnNldEF0dHJpYnV0ZSgnaW5mb2N1cycsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIGlmIChpdGVyYXRvciA+PSBidXR0b25zLmxlbmd0aCkge1xyXG4gICAgICBpdGVyYXRvciA9IDA7XHJcbiAgICB9XHJcbiAgICBidXR0b25zW2l0ZXJhdG9yXS5zZXRBdHRyaWJ1dGUoJ2luZm9jdXMnLCB0cnVlKTtcclxuICB9XHJcbiAgICBcclxuICBmdW5jdGlvbiB0cmlnZ2VyTmF2QnRuKCl7XHJcbiAgICB2YXIgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tsb2NvYnRuXScpO1xyXG4gICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KCdjbGljaycpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidXR0b25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmKGJ1dHRvbnNbaV0uZ2V0QXR0cmlidXRlKCdpbmZvY3VzJykgPT0gJ3RydWUnfHwgYnV0dG9uc1tpXS5nZXRBdHRyaWJ1dGUoJ2luZm9jdXMnKSl7XHJcbiAgICAgICAgYnV0dG9uc1tpXS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdmFyIGRpcmVjdGlvbnMgPSBbJ2ZyZWV6ZScsJ3R3aXN0JywgJ3N3aW5nJ107XHJcbiAgdmFyIG15SW5kZXggPSAxO1xyXG4gIHZhciBjdXJzb3JEaXJlY3Rpb24gPSBkaXJlY3Rpb25zWzBdO1xyXG4gIHZhciB0d2lzdFpSb3QgPSAwO1xyXG5cclxuICBmdW5jdGlvbiBzd2l0Y2hDdXJzb3JEaXJlY3Rpb24oKSB7XHJcbiAgICB0d2lzdFpSb3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHdpc3QnKS5nZXRBdHRyaWJ1dGUoJ3JvdGF0aW9uJykuejtcclxuICAgIGNvbnNvbGUubG9nKCd0d2lzdFpSb3QnICsgdHdpc3RaUm90KTtcclxuICAgIGN1cnNvckRpcmVjdGlvbiA9IGRpcmVjdGlvbnNbbXlJbmRleF07XHJcbiAgICBzd2l0Y2goY3Vyc29yRGlyZWN0aW9uKSB7XHJcbiAgICAgIGNhc2UgJ3R3aXN0JzpcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHdpc3QnKS5vYmplY3QzRC5lbC5zZXRBdHRyaWJ1dGUoJ2FuaW1hdGlvbl9fcm90YXRpb24nLCAncHJvcGVydHk6IHJvdGF0aW9uOyBkdXI6IDEwMDAwOyBlYXNpbmc6IGxpbmVhcjsgbG9vcDogdHJ1ZTsgZnJvbTogMCAwICcgKyB0d2lzdFpSb3QgKyAnOyB0bzogMCAwICcgKyAodHdpc3RaUm90ICsgMzYwKSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3N3aW5nJzpcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHdpc3QnKS5vYmplY3QzRC5lbC5yZW1vdmVBdHRyaWJ1dGUoJ2FuaW1hdGlvbl9fcm90YXRpb24nKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3dpbmcnKS5vYmplY3QzRC5lbC5zZXRBdHRyaWJ1dGUoJ2FuaW1hdGlvbl9feW95bycsJ3Byb3BlcnR5OiByb3RhdGlvbjsgZHVyOiA1MDAwOyBkaXI6IGFsdGVybmF0ZTsgZWFzaW5nOiBsaW5lYXI7IGxvb3A6IHRydWU7IGZyb206IDAgMzAgMDsgdG86IDAgLTMwIDA7Jyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2ZyZWV6ZSc6XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N3aW5nJykub2JqZWN0M0QuZWwucmVtb3ZlQXR0cmlidXRlKCdhbmltYXRpb25fX3lveW8nKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIG15SW5kZXggPSAobXlJbmRleCsxKSUoZGlyZWN0aW9ucy5sZW5ndGgpO1xyXG5cclxuXHJcbiAgfTsgIFxyXG5cclxuXHJcbiAgZnVuY3Rpb24gdHJpZ2dlckN1cnNvcigpe1xyXG4gICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ2NsaWNrJyk7XHJcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcclxuICB9XHJcblxyXG4gIHZhciBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2JpbmFyeS1jb250cm9sc10nKTtcclxuXHJcbiAgZnVuY3Rpb24gdG9nZ2xlTWVudSgpe1xyXG4gICAgaWYoIG1lbnUuZ2V0QXR0cmlidXRlKCdiaW5hcnktY29udHJvbHMnKS5sb2NvZmlyc3QgKXtcclxuICAgICAgbWVudS5zZXRBdHRyaWJ1dGUoJ2JpbmFyeS1jb250cm9scycsJ2xvY29maXJzdCcsJ2ZhbHNlJyk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgbWVudS5zZXRBdHRyaWJ1dGUoJ2JpbmFyeS1jb250cm9scycsJ2xvY29maXJzdCcsJ3RydWUnKTsgICAgICAgIFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgd2luZG93LnRyaWdnZXJBID0gZnVuY3Rpb24oKXtcclxuICAgIGNvbnNvbGUubG9nKCd0cmlnZ2VyQicpO1xyXG4gICAgaWYobWVudS5nZXRBdHRyaWJ1dGUoJ2JpbmFyeS1jb250cm9scycpLmxvY29maXJzdCl7XHJcbiAgICAgIHRyaWdnZXJOYXZCdG4oKTtcclxuICAgIH1lbHNle1xyXG4gICAgICB0cmlnZ2VyQ3Vyc29yKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHdpbmRvdy50cmlnZ2VyQiA9IGZ1bmN0aW9uKCl7XHJcbiAgICBjb25zb2xlLmxvZygndHJpZ2dlckInKTtcclxuICAgIGlmKG1lbnUuZ2V0QXR0cmlidXRlKCdiaW5hcnktY29udHJvbHMnKS5sb2NvZmlyc3Qpe1xyXG4gICAgICBzd2l0Y2hOYXZCdG4oKTtcclxuICAgIH1lbHNle1xyXG4gICAgICBzd2l0Y2hDdXJzb3JEaXJlY3Rpb24oKTtcclxuICAgIH1cclxuICB9XHJcbiAgd2luZG93LnRyaWdnZXJDID0gZnVuY3Rpb24oKXtcclxuICAgIHRvZ2dsZU1lbnUoKTtcclxuICB9XHJcblxyXG4gIC8vaW1pdGF0aW5nIHRyaWdnZXJzXHJcbiAgZG9jdW1lbnQub25rZXlkb3duID0gZnVuY3Rpb24oZSkge1xyXG4gICAgc3dpdGNoIChlLmtleUNvZGUpIHtcclxuICAgICAgY2FzZSA3NjogIC8vdHJpZ2dlckIgKGwpXHJcbiAgICAgICAgdHJpZ2dlckIoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSA4MDogLy90cmlnZ2VyQSAocClcclxuICAgICAgICBjb25zb2xlLmxvZygndHJpZ2dlckEnKTtcclxuICAgICAgICB0cmlnZ2VyQSgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDc5OiAvL3RyaWdnZXJDIChvKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCd0cmlnZ2VyQycpO1xyXG4gICAgICAgIHRyaWdnZXJDKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcblxyXG59KSgpO1xyXG4iXX0="}