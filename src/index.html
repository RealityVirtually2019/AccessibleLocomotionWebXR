<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>AccessibleLocomotionWebXR</title>
    <meta name="description" content="AccessibleLocomotionWebXR â€¢ A-Frame">
    
    <!-- A-Frame 0.8.2 -->
    <!-- `preload="auto"` needs to be removed from audio if using this version -->
    <!----> 
    <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script> 
    <script src="https://unpkg.com/aframe-animation-component@^5.1.2/dist/aframe-animation-component.min.js"></script>
    
    <!-- A-Frame Extras -->
    <script src="https://unpkg.com/aframe-extras@4.2.0/dist/aframe-extras.min.js"></script>
    
    <!-- Recast Plugin -->
    <!-- <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script> -->
  </head>
  
  <body>
    
    <a href="#" id="trigger" style="position:absolute; top:0; left:0; z-index:10;">trigger</a>
    
    <!-- stats="false" -->
    <a-scene background="color: #ECECEC" renderer="gammaOutput: true; antialias: true;" light="defaultLightsEnabled: true;">
      
      <!-- Assets --> 
      <a-assets timeout="30000"> 

        <a-asset-item id="room" src="assets/Apt-Walls.gltf" response-type="arraybuffer"></a-asset-item>
        <a-asset-item id="floor" src="assets/Apt-Floor.gltf" response-type="arraybuffer"></a-asset-item>
        <a-asset-item id="navmesh" src="assets/NavMesh.gltf"></a-asset-item>         
      </a-assets>
      

      <!-- Camera Rig -->
      <a-entity id="rig" movement-controls="constrainToNavMesh: true; speed: 0.2;" position="0 0 0" binary-controls >
      

        <!-- Camera -->
        <a-entity camera="far: 100;" look-controls position="0 1.2 0">




          <!-- locomotion mode start -->
          <a-entity id="locomotion_nav" position="0 0 -2">

            <a-entity infocus="true" position="0 0.5 0" rotation="0 0 0" locobtn="clickAction:fwdDashButtonAction"></a-entity>
            <a-entity infocus="false" position="0 -0.5 0" rotation="0 0 180" locobtn="clickAction:backDashButtonAction"></a-entity>
            <a-entity infocus="false" position="-0.5 0 0"  rotation="0 0 90"locobtn="clickAction:leftTurnButtonAction"></a-entity>
            <a-entity infocus="false" position="0.5 0 0"  rotation="0 0 -90" locobtn="clickAction:rightTurnButtonAction"></a-entity>
            
          </a-entity>
          <!-- locomotion mode end -->

        </a-entity>
 
      </a-entity>
      


      <a-entity geometry="primitive:box" position="-2.3 0.5 -4.5" switch-furniture material="color:red"></a-entity>



      <!-- room and Nav-mesh -->

      <a-entity gltf-model="#room" position="4.5 0 -6.5"></a-entity>
      <a-entity gltf-model="#floor" position="4.5 0 -6.5"></a-entity>
      <a-entity gltf-model="#navmesh" nav-mesh visible="false" position="4.5 0 -6.5">
      
    </a-scene>
    <script src="js/bundle.js"></script>
  </body>
</html>